<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title>自定义事件</title>
		<link rel="stylesheet" href="" />
		<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!--[if lte IE 8]>
			<script src="../../js/html5shiv.js" type="text/javascript" charset="utf-8"></script>
			<script src="../../js/respond.min.js" type="text/javascript" charset="utf-8"></script>
		<![endif]-->

		<style type="text/css">
			@charset "utf-8";
			body {
				padding: 10px;
			}
			
			* {
				padding: 0;
				margin: 0;
			}
			
			
		</style>

	</head>

	<body id="body">

		<button id="btn" type="button">自定义绑定事件1</button>
		<button id="btn" type="button">自定义绑定事件2</button>
		
		</div>

		<script src="js/jquery-1.11.0.js" type="text/javascript" charset="utf-8"></script>
		
		<script type="text/javascript">
			/**自定义事件**/

			function onEvent(type, handler) {
				document.addEventListener(type, handler);

			}

			function triggerEvent(el, type, obj) {
				var btnEvent = document.createEvent("CustomEvent");
				btnEvent.initCustomEvent(type, true, false, obj);
				el.dispatchEvent(btnEvent);
			}

			// 绑定事件
			onEvent("test", function(event) {
				alert("event11:" + event.detail.age);
				console.log(event);
			})
			onEvent("test2", function(event) {
				alert("event22:" + event.detail.age);
				console.log(event);
			});

			/*触发事件*/
			var btn = document.getElementsByTagName("button")[0];
			var btn2 = document.getElementsByTagName("button")[1];
			
			btn.addEventListener("click", function() {
				triggerEvent(btn, "test", {
					age: 11
				})
				triggerEvent(btn, "test", {
					age: 99
				})
			})
			
				btn2.addEventListener("click", function() {
				triggerEvent(btn, "test2", {
					age: 22
				})
				triggerEvent(btn, "test2", {
					age: 88
				})
			})
		</script>

	</body>

</html>