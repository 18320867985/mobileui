

<!-- 1. css  style  区域 -->
<style>

     
    .m-confirm2 .m-confirm2-body .m-confirm2-cnt-btn.ok {
        color: red;
    }

    #m-overflow2 {
        height:100%;
        width:100%;
        box-sizing:border-box;
        border:1px solid red;
      
    }
  /*  .m-touch-lr.fixed {
        position: fixed;
        top: 51px;
        left: 0;
        z-index:2;
    }*/
</style>

<!--2.内容区域 -->
<section class="m-router-cnt">
    <div class="m-overflow-tb"  id="m-overflow1">

        <div class="m-overflow-tb-cnt">
            <p>=====================</p>
            <p>=====================</p>
            <p>=====================</p>
            <p>=====================</p> <p>=====================</p>
            <p>=====================</p> <p>=====================</p>
            <p>=====================</p> <p>=====================</p>
            <p>=====================</p> <p>=====================</p>
            <p>=====================</p> <p>=====================</p>
            <p>=====================</p> <p>=====================</p>
            <p>=====================</p> <p>=====================</p>
            <p>=====================</p> <p>=====================</p>
            <p>=====================</p> <p>=====================</p>
            <p>=====================</p>

        </div>
        <div class="m-overflow-tb" id="m-overflow2">
            <nav class="m-touch-lr">
                <ul class="m-touch-lr-cnt ">
                    <li class="active  m-touch-lr-item">
                        <a class="m-touch-lr-item-btn">京东超市</a>
                    </li>
                    <li class="m-touch-lr-item">
                        <a class="m-touch-lr-item-btn" href="javascript:;">数码电器</a>
                    </li>
                    <li class="m-touch-lr-item">
                        <a class="m-touch-lr-item-btn" href="javascript:;">京东美食</a>
                    </li>
                    <li class="m-touch-lr-item">
                        <a class="m-touch-lr-item-btn" href="javascript:;">京东商城</a>
                    </li>
                    <li class="m-touch-lr-item">
                        <a class="m-touch-lr-item-btn" href="javascript:;">京东服饰</a>
                    </li>
                    <li class="m-touch-lr-item">
                        <a class="m-touch-lr-item-btn" href="javascript:;">京东生鲜</a>
                    </li>
                    <li class="m-touch-lr-item">
                        <a class="m-touch-lr-item-btn" href="javascript:;">京东到家</a>
                    </li>
                    <li class="m-touch-lr-item">
                        <a class="m-touch-lr-item-btn" href="javascript:;">充值缴费</a>
                    </li>
                    <li class="m-touch-lr-item">
                        <a class="m-touch-lr-item-btn" href="javascript:;">领券</a>
                    </li>
                    <li class="m-touch-lr-item">
                        <a class="m-touch-lr-item-btn" href="javascript:;">家居厨具</a>

                    </li>

                    <li class="m-touch-lr-item">
                        <a class="m-touch-lr-item-btn" href="javascript:;">医药保健</a>
                    </li>
                    <li class="m-touch-lr-item">
                        <a class="m-touch-lr-item-btn" href="javascript:;">玩具乐器</a>
                    </li>
                    <li class="m-touch-lr-item">
                        <a class="m-touch-lr-item-btn" href="javascript:;">汽摩生活</a>
                    </li>
                    <li class="m-touch-lr-item">
                        <a class="m-touch-lr-item-btn" href="javascript:;">二手商品</a>
                    </li>
                    <li class="m-touch-lr-item">
                        <a class="m-touch-lr-item-btn" href="javascript:;">生活旅游</a>
                    </li>
                    <li class="m-touch-lr-item">
                        <a class="m-touch-lr-item-btn" href="javascript:;">图书文娱</a>
                    </li>
                    <li class="m-touch-lr-item">
                        <a class="m-touch-lr-item-btn" href="javascript:;">京东服务</a>
                    </li>
                    <li class="m-touch-lr-item">
                        <a class="m-touch-lr-item-btn" href="javascript:;">拍卖</a>
                    </li>
                    <li class="m-touch-lr-item">
                        <a class="m-touch-lr-item-btn" href="javascript:;">宠物鲜花</a>
                    </li>

                </ul>
            </nav>
            <ul class="m-listoption">

                <li class="m-listoption-item">
                    <div class="m-listoption-item-cnt">


                        <div class="m-listoption-item-left">
                            <a href="#">
                                <img src="../images/a.jpg" alt="Alternate Text" />
                                <div class="">
                                    <h4 class="_ttl elp-1">微信群</h4>
                                    <p class="_txt elp-1">2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹</p>
                                </div>

                            </a>

                        </div>

                        <div class="m-listoption-item-option">
                            <div class="_item muted">
                                默认
                            </div>
                            <div class="_item success">
                                成功
                            </div>
                            <div class="_item warning">
                                警告
                            </div>
                            <div class="_item danger">
                                删除
                            </div>
                        </div>
                    </div>
                </li>
                <li class="m-listoption-item">
                    <div class="m-listoption-item-cnt">


                        <div class="m-listoption-item-left">
                            <a href="#">
                                <img src="../images/a.jpg" alt="Alternate Text" />
                                <div class="">
                                    <h4 class="_ttl elp-1">微信群</h4>
                                    <p class="_txt elp-1">2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹</p>
                                </div>

                            </a>

                        </div>

                        <div class="m-listoption-item-option">
                            <div class="_item muted">
                                默认
                            </div>
                            <div class="_item success">
                                成功
                            </div>
                            <div class="_item warning">
                                警告
                            </div>
                            <div class="_item danger">
                                删除
                            </div>
                        </div>
                    </div>
                </li>
                <li class="m-listoption-item">
                    <div class="m-listoption-item-cnt">


                        <div class="m-listoption-item-left">
                            <a href="#">
                                <img src="../images/a.jpg" alt="Alternate Text" />
                                <div class="">
                                    <h4 class="_ttl elp-1">微信群</h4>
                                    <p class="_txt elp-1">2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹</p>
                                </div>

                            </a>

                        </div>

                        <div class="m-listoption-item-option">
                            <div class="_item muted">
                                默认
                            </div>
                            <div class="_item success">
                                成功
                            </div>
                            <div class="_item warning">
                                警告
                            </div>
                            <div class="_item danger">
                                删除
                            </div>
                        </div>
                    </div>
                </li>
                <li class="m-listoption-item">
                    <div class="m-listoption-item-cnt">


                        <div class="m-listoption-item-left">
                            <a href="#">
                                <img src="../images/a.jpg" alt="Alternate Text" />
                                <div class="">
                                    <h4 class="_ttl elp-1">微信群</h4>
                                    <p class="_txt elp-1">2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹</p>
                                </div>

                            </a>

                        </div>

                        <div class="m-listoption-item-option">
                            <div class="_item muted">
                                默认
                            </div>
                            <div class="_item success">
                                成功
                            </div>
                            <div class="_item warning">
                                警告
                            </div>
                            <div class="_item danger">
                                删除
                            </div>
                        </div>
                    </div>
                </li>
                <li class="m-listoption-item">
                    <div class="m-listoption-item-cnt">


                        <div class="m-listoption-item-left">
                            <a href="#">
                                <img src="../images/a.jpg" alt="Alternate Text" />
                                <div class="">
                                    <h4 class="_ttl elp-1">微信群</h4>
                                    <p class="_txt elp-1">2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹</p>
                                </div>

                            </a>

                        </div>

                        <div class="m-listoption-item-option">
                            <div class="_item muted">
                                默认
                            </div>
                            <div class="_item success">
                                成功
                            </div>
                            <div class="_item warning">
                                警告
                            </div>
                            <div class="_item danger">
                                删除
                            </div>
                        </div>
                    </div>
                </li>

                <li class="m-listoption-item">
                    <div class="m-listoption-item-cnt">


                        <div class="m-listoption-item-left">
                            <a href="#">
                                <img src="../images/a.jpg" alt="Alternate Text" />
                                <div class="">
                                    <h4 class="_ttl elp-1">微信群</h4>
                                    <p class="_txt elp-1">2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹</p>
                                </div>

                            </a>

                        </div>

                        <div class="m-listoption-item-option">
                            <div class="_item muted">
                                默认
                            </div>
                            <div class="_item success">
                                成功
                            </div>
                            <div class="_item warning">
                                警告
                            </div>
                            <div class="_item danger">
                                删除
                            </div>
                        </div>
                    </div>
                </li>
                <li class="m-listoption-item">
                    <div class="m-listoption-item-cnt">


                        <div class="m-listoption-item-left">
                            <a href="#">
                                <img src="../images/a.jpg" alt="Alternate Text" />
                                <div class="">
                                    <h4 class="_ttl elp-1">微信群</h4>
                                    <p class="_txt elp-1">2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹</p>
                                </div>

                            </a>

                        </div>

                        <div class="m-listoption-item-option">
                            <div class="_item muted">
                                默认
                            </div>
                            <div class="_item success">
                                成功
                            </div>
                            <div class="_item warning">
                                警告
                            </div>
                            <div class="_item danger">
                                删除
                            </div>
                        </div>
                    </div>
                </li>
                <li class="m-listoption-item">
                    <div class="m-listoption-item-cnt">


                        <div class="m-listoption-item-left">
                            <a href="#">
                                <img src="../images/a.jpg" alt="Alternate Text" />
                                <div class="">
                                    <h4 class="_ttl elp-1">微信群</h4>
                                    <p class="_txt elp-1">2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹</p>
                                </div>

                            </a>

                        </div>

                        <div class="m-listoption-item-option">
                            <div class="_item muted">
                                默认
                            </div>
                            <div class="_item success">
                                成功
                            </div>
                            <div class="_item warning">
                                警告
                            </div>
                            <div class="_item danger">
                                删除
                            </div>
                        </div>
                    </div>
                </li>
                <li class="m-listoption-item">
                    <div class="m-listoption-item-cnt">


                        <div class="m-listoption-item-left">
                            <a href="#">
                                <img src="../images/a.jpg" alt="Alternate Text" />
                                <div class="">
                                    <h4 class="_ttl elp-1">微信群</h4>
                                    <p class="_txt elp-1">2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹</p>
                                </div>

                            </a>

                        </div>

                        <div class="m-listoption-item-option">
                            <div class="_item muted">
                                默认
                            </div>
                            <div class="_item success">
                                成功
                            </div>
                            <div class="_item warning">
                                警告
                            </div>
                            <div class="_item danger">
                                删除
                            </div>
                        </div>
                    </div>
                </li>
                <li class="m-listoption-item">
                    <div class="m-listoption-item-cnt">


                        <div class="m-listoption-item-left">
                            <a href="#">
                                <img src="../images/a.jpg" alt="Alternate Text" />
                                <div class="">
                                    <h4 class="_ttl elp-1">微信群</h4>
                                    <p class="_txt elp-1">2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹</p>
                                </div>

                            </a>

                        </div>

                        <div class="m-listoption-item-option">
                            <div class="_item muted">
                                默认
                            </div>
                            <div class="_item success">
                                成功
                            </div>
                            <div class="_item warning">
                                警告
                            </div>
                            <div class="_item danger">
                                删除
                            </div>
                        </div>
                    </div>
                </li>

                <li class="m-listoption-item">
                    <div class="m-listoption-item-cnt">


                        <div class="m-listoption-item-left">
                            <a href="#">
                                <img src="../images/a.jpg" alt="Alternate Text" />
                                <div class="">
                                    <h4 class="_ttl elp-1">微信群</h4>
                                    <p class="_txt elp-1">2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹</p>
                                </div>

                            </a>

                        </div>

                        <div class="m-listoption-item-option">
                            <div class="_item muted">
                                默认
                            </div>
                            <div class="_item success">
                                成功
                            </div>
                            <div class="_item warning">
                                警告
                            </div>
                            <div class="_item danger">
                                删除
                            </div>
                        </div>
                    </div>
                </li>
                <li class="m-listoption-item">
                    <div class="m-listoption-item-cnt">


                        <div class="m-listoption-item-left">
                            <a href="#">
                                <img src="../images/a.jpg" alt="Alternate Text" />
                                <div class="">
                                    <h4 class="_ttl elp-1">微信群</h4>
                                    <p class="_txt elp-1">2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹</p>
                                </div>

                            </a>

                        </div>

                        <div class="m-listoption-item-option">
                            <div class="_item muted">
                                默认
                            </div>
                            <div class="_item success">
                                成功
                            </div>
                            <div class="_item warning">
                                警告
                            </div>
                            <div class="_item danger">
                                删除
                            </div>
                        </div>
                    </div>
                </li>
                <li class="m-listoption-item">
                    <div class="m-listoption-item-cnt">


                        <div class="m-listoption-item-left">
                            <a href="#">
                                <img src="../images/a.jpg" alt="Alternate Text" />
                                <div class="">
                                    <h4 class="_ttl elp-1">微信群</h4>
                                    <p class="_txt elp-1">2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹</p>
                                </div>

                            </a>

                        </div>

                        <div class="m-listoption-item-option">
                            <div class="_item muted">
                                默认
                            </div>
                            <div class="_item success">
                                成功
                            </div>
                            <div class="_item warning">
                                警告
                            </div>
                            <div class="_item danger">
                                删除
                            </div>
                        </div>
                    </div>
                </li>
                <li class="m-listoption-item">
                    <div class="m-listoption-item-cnt">


                        <div class="m-listoption-item-left">
                            <a href="#">
                                <img src="../images/a.jpg" alt="Alternate Text" />
                                <div class="">
                                    <h4 class="_ttl elp-1">微信群</h4>
                                    <p class="_txt elp-1">2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹</p>
                                </div>

                            </a>

                        </div>

                        <div class="m-listoption-item-option">
                            <div class="_item muted">
                                默认
                            </div>
                            <div class="_item success">
                                成功
                            </div>
                            <div class="_item warning">
                                警告
                            </div>
                            <div class="_item danger">
                                删除
                            </div>
                        </div>
                    </div>
                </li>
                <li class="m-listoption-item">
                    <div class="m-listoption-item-cnt">


                        <div class="m-listoption-item-left">
                            <a href="#">
                                <img src="../images/a.jpg" alt="Alternate Text" />
                                <div class="">
                                    <h4 class="_ttl elp-1">微信群</h4>
                                    <p class="_txt elp-1">2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹2010微信群-笑笑-妹妹</p>
                                </div>

                            </a>

                        </div>

                        <div class="m-listoption-item-option">
                            <div class="_item muted">
                                默认
                            </div>
                            <div class="_item success">
                                成功
                            </div>
                            <div class="_item warning">
                                警告
                            </div>
                            <div class="_item danger">
                                删除
                            </div>
                        </div>
                    </div>
                </li>

            </ul>

        </div>

    </div>
</section>

<!-- js 区域 -->
<script type="text/javascript">

    /* 路由页面监听事件对象 */
    m.router.page({

        /* 设置当前路由页面的对象的参数 */
        setting: {
            routerTilte: "overflow-tb 上下滑动", // 路由页的标题
            // routerTilteColor: "red",  // 路由页的标题字体颜色
            // routerClass:"router-class-1"   // 路由页的class
        },

        /*加载js的列表 */
        loadJs: [
            //"./js/m-vd.js",
            //"./js/cityData.js"
        ],
       
        // 生命周期函数--监听页面加载完成
        onLoad: function (context, parameter) {

            // context 当前路由模块上下文对象
            //console.log("onLoad:", context);

            // context 当前路由模块接受的参数
            //console.log("parameter:", parameter);

            // overflow-tb上下滑动的插件模式
            m("#m-overflow1", context).mOverflowTb();
             // mListoption 触发的插件
         //   m(".m-listoption", context).mListoption();

            m(".m-touch-lr", context).eq(0).mTouchLr({
                //left: true,          // 菜单 m-touch-lr-item 定位左边 ,默认center定位中间
                //limitLeft: true,      // 禁止左边拉 默认为false
                //limitRight: true ,  // 禁止右边拉  默认为false
                //limit: 0.2,         //弹性拉动空间   默认为相对方向宽或高的值 默认为0.4
            });

            // 拉到顶部触发
            m(".m-overflow-tb",context).on("reachtop.m.overflow.tb", function (event, el, scrollObj) {

                //  console.log("reachtop.m.overflow.tb", scrollObj);

            });

            m("#m-overflow2", context).css("overflow-y", "hidden");
            var top = m("#m-overflow2", context).offset().top;
            // scroll触发
            m("#m-overflow1",context).on("scroll.m.overflow.tb", function (event, el, scrollObj) {

               // console.log("scroll.m.overflow.tb", scrollObj.scrollTop);
              
                console.log("top:", top)
                console.log("scrollObj.scrollTop :", scrollObj.scrollTop)
                if (scrollObj.scrollTop >= top) {
                   // m("#m-overflow1", context).css("overflow-y", "hidden");
                    m("#m-overflow2", context).css("overflow-y", "scroll");
                  //  m(".m-touch-lr", context).addClass("fixed");
                    // alert()
                 
                } else {
                   // m("#m-overflow1", context).css("overflow-y", "scroll");
                    m("#m-overflow2", context).css("overflow-y", "hidden");
                   // m(".m-touch-lr", context).removeClass("fixed");
                }
              
            });

            // 拉到底部触发
            m(".m-overflow-tb",context).on("reachbottom.m.overflow.tb", function (event, el, scrollObj) {

                //console.log("reachbottom.m.overflow.tb", scrollObj);

               // ajaxData($(".m-overflow-tb"));
            });

            // 第一次加载数据
         //   ajaxData(m(".m-overflow-tb",context));

            // ajax 加载数据
            //function ajaxData($el) {
            //    if ($el.data("loadingEnd")) {

            //        return;
            //    }
            //    $el.data("loadingEnd", true);

            //    m.get("./json/tab.json", function (res) {

            //        $el.data("loadingEnd", false);
            //        var page = $el.data("pageindex") || 1;
            //        var docf = document.createDocumentFragment();
            //        for (var i = 0; i < res.length; i++) {
            //            var li = document.createElement("li");
            //            li.classList.add("m-listoption-item");
            //            li.classList.add("text-danger");
            //            li.innerHTML = listoptionHtml;
            //            docf.appendChild(li);

            //        }
            //        $el.find(".m-listoption").append(docf);
            //        $el.data("pageindex", ++page);

            //    }, "json");

            //}

            //var listoptionHtml = `
            //                        <div class="m-listoption-item-cnt">

            //                            <!--列表内容-->
            //                            <div class="m-listoption-item-left">
            //                                <a href="http://baidu.com">
            //                                    <img src="./images/head.png" alt="Alternate Text" />
            //                                   <div class="_contnet">
            //                                    <div>
            //                                        <h4 class="_ttl elp-1">微信群</h4>
            //                                        <p class="_txt elp-1">[语音]</p>
            //                                    </div>

            //                                    <div>
            //                                        <span>6月20日</span>
            //                                         <span class="icon icon-cc-bell-o"></span>
            //                                    </div>
            //                                </div>

            //                                </a>

            //                            </div>
            //                            <!--列表操作项-->
            //                            <div class="m-listoption-item-option">                     <div class="_item warning">
            //                                    警告
            //                                </div>
                                         
            //                                <div class="_item danger">
            //                                    删除
            //                                </div>
            //                            </div>
            //                        </div>
            //                    `;

            //// 删除
            //m(".m-listoption", context).on("tap", "._item.danger", function (event) {

            //    var $this = m(this);
            //    m.mConfirm2("是否确认删除数据？", function () {
            //        $this.parents(".m-listoption-item").remove();
            //    }, null, { ok: "删除" });

            //});


        },

        // 生命周期函数--监听页面显示
        onShow: function (context) {
            // context 当前路由模块上下文对
            //console.log("onShow", context);
        },

        // 生命周期函数--监听页面隐藏
        onHide: function (context) {
            // context 当前路由模块上下文对
            // console.log("onHide", context);

        },

    });

</script>


