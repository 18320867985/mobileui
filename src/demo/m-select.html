

<!-- 1. css  style  区域 -->
<style>

    #m-select  .m-cnt {
            padding: 1rem;
        }
</style>

<!--2.内容区域 -->
<section class="m-router-cnt" id="m-select">
    <div class="m-overflow-tb">
        <div class="m-overflow-tb-cnt">

            <!--内容start -->

            <div class="m-btn m-btn-primary m-btn-block btn1">点击选择的值：</div>
            <br />
            <div class="m-btn m-btn-success m-btn-block btn2">自动选择的值：</div>
            <!--内容end -->
        </div>
    </div>
</section>

<!-- js 区域 -->
<script type="text/javascript">

    /* 路由页面监听事件对象 */
    m.router.page({

        /* 设置当前路由页面的对象的参数 */
        setting: {
            routerTilte: "select组件", // 路由页的标题
            // routerTilteColor: "red",  // 路由页的标题字体颜色
            // routerClass:"router-class-1"   // 路由页的class
        },

        /*加载js的列表 */
        loadJs: [
            //"./js/m-vd.js",
            //"./js/cityData.js"
        ],
      
        // 生命周期函数--监听页面加载完成
        onLoad: function (context, parameter) {

            // context 当前路由模块上下文对象
            //console.log("onLoad:", context);

            // context 当前路由模块接受的参数
            //console.log("parameter:", parameter);

             var list = [];
            for (var i = 1985; i < 2071; i++) {
                list.push({ text: i, val: i, select: i === 2020 ? true : false });
            }

            //  点击确定选择的值
            m(".btn1",context).on("tap", function () {
                var $btn = m(this);
                m.mPicker({ type: "select", list: list, ttl: "选择日期" }, function (val) {

                    $btn.html("点击选择的值：" + val.select);

                });

            });


            // 选择组件定位到中间的select事件
            m("#m-select-2",context).on("select.m.picker", function (event, el, val) {
                /*
                   event       事件
                   el          触发元素
                   val          选择的值
                 */
                //console.log("event", event);
                console.log("el", el);
                console.log("val", val);
                //m(".m-btn-primary").html("选择的值：" + val);  // 自动选择

            });

            var list2 = [
                { text: "京东超市", val: "京东超市" },
                { text: "数码电器", val: "数码电器" },
                { text: "京东美食", val: "京东美食" },
                { text: "京东商城", val: "京东商城" },
                { text: "京东服饰", val: "京东服饰", select: true },
                { text: "京东生鲜", val: "京东生鲜" },
                { text: "京东到家", val: "京东到家" },
                { text: "充值缴费", val: "充值缴费" },
                { text: "领券", val: "领券" },
                { text: "手机", val: "手机" },
                { text: "家居厨具", val: "数码电器" },
                { text: "图书文娱", val: "家居厨具" },
                { text: "京东商城", val: "图书文娱" },
                { text: "京东服务", val: "京东服务", select: true },
                { text: "拍卖", val: "拍卖" },
                { text: "玩具乐器", val: "玩具乐器" },
                { text: "二手商品", val: "二手商品" },
                { text: "美妆护肤", val: "美妆护肤" }


            ];


            //  自动选择的值
            m(".btn2",context).on("tap", function () {
                var $btn = m(this);
                m.mPicker({ type: "select", list: list2, isShowTip: true, }, function (val) {

                    $btn.html("自动选择的值：" + val.select);

                });

            });

        },

        // 生命周期函数--监听页面显示
        onShow: function (context) {
            // context 当前路由模块上下文对
            //console.log("onShow", context);
        },

        // 生命周期函数--监听页面隐藏
        onHide: function (context) {
            // context 当前路由模块上下文对
            // console.log("onHide", context);

        },

    });

</script>


